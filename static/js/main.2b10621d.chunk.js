(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),l=n.n(o),s=n(2),u=n(3),c=n(6),i=n(7),d=n(9),m=n(8),f=n(10),h=function(){return r.a.createElement("p",{className:"title"},"TODO LIST")},v=function(e){var t=e.newTask,n=e.dueOn,a=e.onChange,o=e.onAddNewTask;return r.a.createElement("form",{className:"flexRow"},r.a.createElement("input",{className:"newTask taskFlexGrow",name:"newTask",type:"text",placeholder:"I need to...",value:t,onChange:a}),r.a.createElement("input",{className:"dueOn",name:"dueOn",type:"date",value:n,onChange:a}),r.a.createElement("button",{className:"addBtn",type:"button",onClick:o},"ADD"))},p=function(e){var t=e.viewOptions,n=e.viewValue,a=e.onChange;return r.a.createElement("select",{className:"select",name:"viewValue",value:n,onChange:a},t.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))},k=function(e){var t=e.orderByValue,n=e.orderByOptions,a=e.onChange;return r.a.createElement("select",{className:"select",name:"orderByValue",value:t,onChange:a},n.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)}))},w=function(e){var t=e.searchValue,n=e.onChange;return r.a.createElement("input",{className:"search",name:"searchValue",type:"search",placeholder:"Search tasks...",value:t,onChange:n})},T=function(e){var t=e.viewOptions,n=e.orderByOptions,a=e.viewValue,o=e.orderByValue,l=e.searchValue,s=e.onChange;return r.a.createElement("div",{className:"flexRow"},r.a.createElement(p,{viewOptions:t,viewValue:a,onChange:s}),r.a.createElement(k,{orderByOptions:n,orderByValue:o,onChange:s}),r.a.createElement(w,{searchValue:l,onChange:s}))},E=function(e){var t=e.totalTasksToDo;return r.a.createElement("p",{className:"totalTasks"},"I have ",r.a.createElement("span",{className:"emphasis"},t)," ",1===t?"thing":"things"," to do")},O=n(1),C=n.n(O),y=function(e){var t=e.text,n=e.id,a=e.onTaskAction,o=e.onKeyDown;return r.a.createElement("input",{className:"editText",type:"text",value:t,onChange:function(e){return a(e,n,"edit")},onBlur:function(e){return a(e,n,"save")},onKeyDown:function(e){return o(e,n)},autoFocus:!0})},b=function(e){var t=e.task,n=e.onTaskAction,a=e.onKeyDown,o=e.onTaskDelete,l=t.text,s=t.done,u=t.dueOn,c=t.starred,i=t.id,d=t.isWritable,m=s?"taskCompleted":"",f=""===u?"":C()(u,"YYYY-MM-DD").calendar().split(" at")[0],h="Today"===f?"dueToday":"";return r.a.createElement("li",null,r.a.createElement("form",{className:"flexRow"},r.a.createElement("input",{type:"checkbox",checked:s,onChange:function(e){return n(e,i,"done")}}),r.a.createElement("span",{className:"taskFlexGrow ".concat(m)},d?r.a.createElement(y,{text:l,id:i,onTaskAction:n,onKeyDown:a}):r.a.createElement("span",{onClick:function(e){return n(e,i,"click")}},l.trim())),r.a.createElement("span",{className:"".concat(m," ").concat(h)},f),r.a.createElement("input",{className:"star",type:"checkbox",checked:c,onChange:function(e){return n(e,i,"star")}}),r.a.createElement("button",{type:"button",onClick:function(){return o(i)}},"x")))},g=function(e){var t=e.userPreferenceToDoList,n=e.onTaskAction,a=e.onKeyDown,o=e.onTaskDelete,l=t.map(function(e){return r.a.createElement(b,{key:e.id,task:e,onTaskAction:n,onKeyDown:a,onTaskDelete:o})});return r.a.createElement("ul",null,l)},D=function(e){var t=e.onClearCompletedTasks,n=e.onClearAllTasks;return r.a.createElement("div",{className:"flexRow clearBtns"},r.a.createElement("button",{className:"clearBtn",type:"button",onClick:t},"Clear completed"),r.a.createElement("button",{className:"clearBtn",type:"button",onClick:n},"Clear all"))},N=[{value:"all",label:"All tasks"},{value:"current",label:"Active"},{value:"completed",label:"Completed"},{value:"starred",label:"Starred"},{value:"notStarred",label:"Not starred"},{value:"dated",label:"Dated"},{value:"notDated",label:"Not dated"}],L=[{value:"newestFirst",label:"Newest first"},{value:"oldestFirst",label:"Oldest first"},{value:"dueEarlier",label:"Due earlier first"},{value:"dueLater",label:"Due later first"}],A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={todoList:[],newTask:"",dueOn:"",searchValue:"",viewValue:"all",orderByValue:"newestFirst"},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(u.a)({},a,r))},n.handleAddNewTask=function(e){e.preventDefault();var t=n.state,a=t.newTask,r=t.dueOn;if(""!==a.trim()){var o={id:Date.now(),text:a.trim(),postedOn:Date.now(),done:!1,dueOn:r,starred:!1,isWritable:!1};n.setState(function(e){return{newTask:"",dueOn:"",todoList:e.todoList.concat([o])}})}},n.handleTaskAction=function(e,t,a){var r=e.target.value;n.setState(function(e){return{todoList:e.todoList.map(function(e){return e.id===t?"done"===a?Object(s.a)({},e,{done:!e.done}):"star"===a?Object(s.a)({},e,{starred:!e.starred}):"click"===a?Object(s.a)({},e,{isWritable:!0}):"save"===a?Object(s.a)({},e,{isWritable:!1}):"edit"===a?Object(s.a)({},e,{text:r}):e:e})}})},n.handleKeyDown=function(e,t){"Enter"===e.key&&n.handleTaskAction(e,t,"save")},n.handleTaskDelete=function(e){n.setState(function(t){return{todoList:t.todoList.filter(function(t){return t.id!==e})}})},n.handleClearCompletedTasks=function(){n.setState(function(e){return{todoList:e.todoList.filter(function(e){return!e.done})}})},n.handleClearAllTasks=function(){n.setState({todoList:[]})},n.handleLeavePage=function(){localStorage.setItem("todoList",JSON.stringify(n.state.todoList))},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.handleLeavePage),this.setState({todoList:JSON.parse(localStorage.getItem("todoList"))||[]})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleLeavePage)}},{key:"render",value:function(){var e=this.state,t=e.todoList,n=e.newTask,a=e.dueOn,o=e.searchValue,l=e.viewValue,s=e.orderByValue;return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement(h,null),r.a.createElement(v,{newTask:n,dueOn:a,onChange:this.handleChange,onAddNewTask:this.handleAddNewTask}),r.a.createElement(T,{viewOptions:N,orderByOptions:L,viewValue:l,orderByValue:s,searchValue:o,onChange:this.handleChange})),r.a.createElement(E,{totalTasksToDo:function(e){return e.filter(function(e){return!1===e.done}).length}(t)}),r.a.createElement(g,{userPreferenceToDoList:function(e,t,n,a){var r;return r="current"===t?e.filter(function(e){return!e.done}):"completed"===t?e.filter(function(e){return e.done}):"starred"===t?e.filter(function(e){return e.starred}):"notStarred"===t?e.filter(function(e){return!e.starred}):"dated"===t?e.filter(function(e){return e.dueOn}):"notDated"===t?e.filter(function(e){return!e.dueOn}):e,r="newestFirst"===n?r.sort(function(e,t){return t.postedOn-e.postedOn}):"oldestFirst"===n?r.sort(function(e,t){return e.postedOn-t.postedOn}):"dueEarlier"===n?r.sort(function(e,t){return C()(e.dueOn)-C()(t.dueOn)}):r.sort(function(e,t){return C()(t.dueOn)-C()(e.dueOn)}),""!==a.trim&&(r=r.filter(function(e){return-1!==e.text.toLowerCase().indexOf(a.toLowerCase())})),r}(t,l,s,o),onTaskAction:this.handleTaskAction,onKeyDown:this.handleKeyDown,onTaskDelete:this.handleTaskDelete}),r.a.createElement(D,{onClearCompletedTasks:this.handleClearCompletedTasks,onClearAllTasks:this.handleClearAllTasks}))}}]),t}(a.Component);n(17);l.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[11,2,1]]]);
//# sourceMappingURL=main.2b10621d.chunk.js.map